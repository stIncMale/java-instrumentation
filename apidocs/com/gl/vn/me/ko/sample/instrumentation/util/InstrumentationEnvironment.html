<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_72) on Sun Dec 11 00:59:59 MSK 2016 -->
<title>InstrumentationEnvironment (Java Instrumentation Examples. Code Documentation)</title>
<meta name="date" content="2016-12-11">
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InstrumentationEnvironment (Java Instrumentation Examples. Code Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstrumentationEnvironment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">
				<a href="https://github.com/stIncMale/java-instrumentation">Java Instrumentation Examples</a><br>Code Documentation
			</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/AbstractClassFileTransformer.html" title="class in com.gl.vn.me.ko.sample.instrumentation.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html" target="_top">Frames</a></li>
<li><a href="InstrumentationEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.gl.vn.me.ko.sample.instrumentation.util</div>
<h2 title="Class InstrumentationEnvironment" class="title">Class InstrumentationEnvironment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.gl.vn.me.ko.sample.instrumentation.util.InstrumentationEnvironment</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">InstrumentationEnvironment</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Provides API that allows to obtain an instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a> from the application <code>main(String[])</code> method
 for example.
 <p>
 Example of initialization from Java-agent:<br>
 <blockquote>
 
 <pre>
 class Agent {
        public static void premain(String agentArgs, Instrumentation inst) {
                InstrumentationEnvironment.setInstrumentation(inst);
        }
 }
 </pre>
 
 </blockquote> The class also provides a <a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#retransformClasses-java.lang.Class:A-"><code>retransformClasses(Class[])</code></a> method similar to <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a><code>.retransformClasses(Class[])</code> method that was added
 in Java SE 6.
 <p>
 Instantiability: forbidden.<br>
 Thread safety: thread-safe.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument">Instrumentation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#getInstrumentation--">getInstrumentation</a></span>()</code>
<div class="block">Allows to obtain an instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#isInitialized--">isInitialized</a></span>()</code>
<div class="block">Checks if instrumentation environment was initialized.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#retransformClasses-java.lang.Class:A-">retransformClasses</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;[]&nbsp;classes)</code>
<div class="block">Retransforms the supplied set of classes.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#setInstrumentation-java.lang.instrument.Instrumentation-">setInstrumentation</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument">Instrumentation</a>&nbsp;instrumentation)</code>
<div class="block">Initializes instrumentation environment.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstrumentation--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstrumentation</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/javax/annotation/Nullable.html?is-external=true" title="class or interface in javax.annotation">@Nullable</a>
public static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument">Instrumentation</a>&nbsp;getInstrumentation()</pre>
<div class="block">Allows to obtain an instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a>.
 Once initialized via <a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#setInstrumentation-java.lang.instrument.Instrumentation-"><code>setInstrumentation(Instrumentation)</code></a> method, always returns the same object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a> or <code>null</code> if instrumentation environment was not initialized.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#setInstrumentation-java.lang.instrument.Instrumentation-"><code>setInstrumentation(Instrumentation)</code></a>, 
<a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#isInitialized--"><code>isInitialized()</code></a></dd>
</dl>
</li>
</ul>
<a name="isInitialized--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInitialized</h4>
<pre>public static final&nbsp;boolean&nbsp;isInitialized()</pre>
<div class="block">Checks if instrumentation environment was initialized.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><ul>
         <li><code>true</code> if instrumentation environment was initialized.</li>
         <li><code>false</code> if instrumentation environment wasn't initialized.</li>
         </ul></dd>
</dl>
</li>
</ul>
<a name="retransformClasses-java.lang.Class:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retransformClasses</h4>
<pre>public static final&nbsp;void&nbsp;retransformClasses(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;[]&nbsp;classes)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/UnmodifiableClassException.html?is-external=true" title="class or interface in java.lang.instrument">UnmodifiableClassException</a></pre>
<div class="block">Retransforms the supplied set of classes.
 This method was made similar to method <code>java.lang.instrument.Instrumentation.retransformClasses(Class&lt;?&gt;...)</code> that was added in Java SE 6,
 but this method can be compiled and run on Java SE 5.
 <p>
 The method just reads original bytes of classes and calls <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true#redefineClasses-java.lang.instrument.ClassDefinition...-" title="class or interface in java.lang.instrument"><code>Instrumentation.redefineClasses(ClassDefinition[])</code></a>, so modifications can be made by class file
 transformers. A separate private instance of <a href="http://jboss-javassist.github.io/javassist/html/javassist/ClassPool.html?is-external=true" title="class or interface in javassist"><code>ClassPool</code></a> is used to read bytecode.
 <p>
 Note that it doesn't support hierarchy of class loaders. It means that the method is not applicable for cases when classes with the same name are loaded with different class loaders.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>classes</code> - Array of classes to retransform. Must be not <code>null</code>. A zero-length array is allowed, in this case, this method does nothing.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/UnmodifiableClassException.html?is-external=true" title="class or interface in java.lang.instrument">UnmodifiableClassException</a></code> - If a redefined class can't be modified. Primitive classes (for example, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html?is-external=true#TYPE" title="class or interface in java.lang"><code>Integer.TYPE</code></a>) and array classes are never modifiable. In Java SE 6 there is a method
             <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a><code>.isModifiableClass(Class)</code> that allows to check if the class is modifiable.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true#redefineClasses-java.lang.instrument.ClassDefinition...-" title="class or interface in java.lang.instrument"><code>Instrumentation.redefineClasses(ClassDefinition[])</code></a>, 
<a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/AbstractClassFileTransformer.html#transform-java.lang.ClassLoader-java.lang.String-java.lang.Class-java.security.ProtectionDomain-byte:A-"><code>AbstractClassFileTransformer.transform(ClassLoader, String, Class, java.security.ProtectionDomain, byte[])</code></a></dd>
</dl>
</li>
</ul>
<a name="setInstrumentation-java.lang.instrument.Instrumentation-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setInstrumentation</h4>
<pre>public static final&nbsp;void&nbsp;setInstrumentation(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument">Instrumentation</a>&nbsp;instrumentation)</pre>
<div class="block">Initializes instrumentation environment.
 Being invoked with not <code>null</code> parameter, does nothing in subsequent invocations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instrumentation</code> - An instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/instrument/Instrumentation.html?is-external=true" title="class or interface in java.lang.instrument"><code>Instrumentation</code></a>. Must be not <code>null</code>.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html#getInstrumentation--"><code>getInstrumentation()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InstrumentationEnvironment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">
				Licensed under <a href="http://www.wtfpl.net/">WTFPL</a>
			</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../../com/gl/vn/me/ko/sample/instrumentation/util/AbstractClassFileTransformer.html" title="class in com.gl.vn.me.ko.sample.instrumentation.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?com/gl/vn/me/ko/sample/instrumentation/util/InstrumentationEnvironment.html" target="_top">Frames</a></li>
<li><a href="InstrumentationEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
